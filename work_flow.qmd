---
title: ""
format: html
---

{{< include _init.qmd >}}

```{=html}
<style>
:root{
--mermaid-label-fg-color: #000;
--mermaid-fg-color--lightest: #fff;
--mermaid-fg-color--lighter: #fff;
}
</style>
```


```{mermaid}
%%| label: mermaid_workflow
%%| fig-cap: "CCIEA Uploader Work Flow"
flowchart TD
   Z1(CCIEA Uploader - Uploader tab) --> Z
   Z1 -- optional--> K1{Download<br>previous<br>data files?}
   Z(View Current Metadata) --> B(Choose PI)-->  D[Select Indicators and<br>examine metadata]
   B --Rare: PI has data in<br>more than one<br>component--> E(Choose Component) -->D
   D -->F{Metadata<br>need<br>updating?}
   K1--Yes--> H[Download Last Year] -.->  N[\`last_year` data csv file\]  -. view and<br>optionally update .-> G
   F --No--> G[Upload This year]
   K1 --No--> G
   F --Yes--> H[Download Last Year]
   H -->  M[\previous year metadata csv file\] -- edit<br>metadata --> G
  G --> I{What are you<br>uploading?} --> J(Updated<br>metadata) -->T[Upload file]
  I--> K(Indicator<br>time series)--> O{Data file<br>name in<br>conventions<br>list?}
  I--> V(other types<br>of files) --Upload plots<br>indicator text summaries<br>other ESR files-->T

O --Yes--> P[Browse your<br>file system<br>for data file<br>-> csv only]
O --No--> Q[rename file] --> P
P --> R[\Data file in browser\] -->S{pass file<br>checks?}
S --Yes-->  T
S -- No --> U[Edit to<br>correct file<br>name or headers] --> T
T --> Y{Upload<br>another csv<br>data file?}--Yes--> G
Y --No--> W[return tomorrow<br>to view updated<br>data and metadata]
  classDef htm fill:#4682b4,stroke:#333,stroke-width:2px,color:#fff;
  classDef menu fill:#ffffc5,stroke:#333,stroke-width:2px,color:#000;
  classDef data fill:#add8e6,stroke:#333,stroke-width:2px,color:#000;
  classDef action fill:#ffcccb,stroke:#333,stroke-width:2px,color:#000;
  class Z,Z1,H,L,G htm
  class B,E,D,T,P,W,X menu
  
  class M,N,R data
  class Q,U action
 

```
